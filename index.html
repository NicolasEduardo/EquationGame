<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Math Game byNck</title>
  <style>


        body {
            
            height: 100vh;
            
            background: #2b2b2b;
            position: relative; /* Add relative positioning to body */
        }

.options {
  display: flex;
  justify-content: center;
  width: 350px;
  border: 4px solid #888;
  border-radius: 10px;
  padding: 9px;
  margin: 5px 0px;
  cursor: pointer;
  background-color: #ccc;
  color: #444;
}

.true {
  display: flex;
  justify-content: center;
  width: 200px;
  border: 4px solid #888;
  border-radius: 10px;
  padding: 5px;
  margin: 5px 0px;
  cursor: pointer;
  background-color: #ccc;
  color: #444;
}

.red {
  background-color: #8e0000;
  color: #000000;
}

.green {
  background-color: #1e8500;
  color: #000000;
}

.contadorVitorias {
  color: darkgreen;
  font-weight: bold;
  font-size: 30px;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}

.contadorDerrotas {
  color: #b60b0b;
  font-weight: bold;
  font-size: 30px;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}

.equation {
  text-align: center;
}

.temporizador {
  font-size: 50px;
  text-align: center;
  font-weight: bold;
  color: #333;
  background-color: #f2f2f2;
  padding: 10px;
  border-radius: 5px;
}

.center-container {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100vh; /* Define a altura para ocupar toda a altura da tela */
}

.startButton {
  padding: 20px 40px;
  font-size: 24px;
  border: none;
  background-color: #333;
  color: #fff;
  cursor: pointer;
  position: absolute;
  right: 135px; /* Ajuste a distância da borda direita conforme necessário */
  top: 400px;
  overflow: hidden;
  outline: none;
  border-radius: 50px;
  transition-duration: 0.4s;
}
  .themeButton {
            height: 30px; /* Further decreased height */
            width: 60px; /* Further decreased width */
            background: #222;
            appearance: none;
            border-radius: 15px; /* Adjusted radius */
            box-shadow: inset 0 4px 30px rgba(0, 0, 0, 0.1),
                        inset 0 4px 4px rgba(0, 0, 0, 0.1),
                        inset 0 -2px 2px rgba(0, 0, 0, 0.1);
            position: absolute; /* Position the checkbox */
            top: 0px; /* Adjust top position */
            right: 0px; /* Adjust right position */
            outline: none;
            cursor: pointer;
            transition: 0.5s;
        }

        .themeButton::before {
            height: 30px; /* Further decreased height */
            width: 30px; /* Further decreased width */
            position: absolute;
            top: 0;
            left: 0;
            content: "";
            background: linear-gradient(to bottom, #444, #222);
            border-radius: 15px; /* Adjusted radius */
            transform: scale(0.9);
            transition: 0.5s;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5),
                        inset 2px 2px rgba(255, 255, 255, 0.2),
                        inset -2px 2px rgba(255, 255, 255, 0.2);
        }

        .themeButton:checked {
            background: #fff;
            box-shadow: inset 0 1px 30px rgba(0, 0, 0, 0.1),
                        inset 0 1px 4px rgba(0, 0, 0, 0.1),
                        inset 0 -2px 2px rgba(0, 0, 0, 0.05);
        }

        .themeButton:checked::before {
            left: 30px; /* Adjusted position */
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1),
                        inset 2px 2px rgba(255, 255, 255, 1),
                        inset -2px 2px rgba(255, 255, 255, 1);
            background: linear-gradient(to bottom, #eaeaea, #f9f9f9);
        }

        /* Hide body background when checkbox is checked */
        .themeButton:checked ~ body {
            background: #f8f8f8;
        }

.startButton::before {
  content: "";
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  border-radius: 50px;
  background-color: transparent;
  animation: rgbAnimation 3s infinite;
}

.dark-theme .startButton,
.dark-theme #themeButton {
  background-color: #111;
  color: #fff;
}

.dark-theme {
  color: #fff !important;
  transition: color 2s;
}

.tempo-esgotado {
  font-size: 30px;
  text-align: center;
  color: #b60b0b;
  font-weight: bold;
  margin-top: 20px;
  animation: pulse 0.5s infinite alternate;
}

@keyframes pulse {
  from {
    transform: scale(1);
  }
  to {
    transform: scale(1.1);
  }
}

button {
  padding: 20px 40px;
  font-size: 24px;
  border: none;
  background-color: #333;
  color: #fff;
  cursor: pointer;
  position: relative;
  overflow: hidden;
  outline: none;
  border-radius: 50px;
  animation: wave 2s infinite;
}

#themeButton {
  position: absolute;
  top: 6px; /* Move o botão para baixo */
  right: 0px;
  padding: 10px;
  font-size: 16px;
  border: none;
  background-color: #333;
  color: #fff;
  cursor: pointer;
  transition: background-color 0.5s;
  animation: themeButtonAnimation 1s infinite alternate; /* Altera a animação do botão */
}

@keyframes wave {
  0% {
    box-shadow: 0 0 10px red, 0 0 20px green, 0 0 30px blue;
  }
  50% {
    box-shadow: 0 0 20px blue, 0 0 30px red, 0 0 40px green;
  }
  100% {
    box-shadow: 0 0 30px green, 0 0 40px blue, 0 0 50px red;
  }
}

@keyframes themeButtonAnimation {
  0% {
    background-color: #333;
    color: #fff;
  }
  50% {
    background-color: #fff;
    color: #333;
  }
  100% {
    background-color: #333;
    color: #fff;
  }
}

.dark-theme button,
.dark-theme #themeButton {
  background-color: #111;
  color: #fff;!important
}

/* Outras regras relacionadas ao tema escuro */



.dark-theme button::before {
  content: "";
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  border-radius: 50px;
  background-color: transparent;
  animation: rgbAnimation 3s infinite;
}
body {
  color: #fff;
  transition: color 2s;
}
.dark-theme .temporizador {
  color: #fff; /* Texto branco */
  background-color: #111; /* Fundo escuro */
  transition: color 2s;
}


@keyframes rgbAnimation {
  0% {
    box-shadow: 0 0 10px purple, 0 0 20px red, 0 0 30px green;
  }
  50% {
    box-shadow: 0 0 20px green, 0 0 30px purple, 0 0 40px red;
  }
  100% {
    box-shadow: 0 0 30px red, 0 0 40px green, 0 0 50px purple;
  }
}
.dark-theme body {
      color: #fff;!important

  </style>

</head>
<body>
  
  <!-- Botão Alterar Tema da animação RGB -->

   <input type="checkbox" class="themeButton">  

  <!-- Restante do código do jogo de matemática -->
<p style="text-align:center;">Creator: Nicolas</p>
  <h1 class="rules" style="text-align:center;">REGRAS DO MATH GAME</h1>
  <p class="rules" style="text-align:center;">1 - QUANDO VOCÊ APERTAR EM INICIAR, TERÁ 5 SEGUNDOS PARA RESOLVER A EQUAÇÃO, CASO ELA SEJA RESPONDIDA CERTA, O SEU CONTADOR DE ACERTOS SERÁ ACRESCENTADO EM 1.</p>
  <p class="rules" style="text-align:center;">2 - TODA VEZ QUE VOCÊ ERRAR, O SEU CONTADOR DE DERROTAS SERÁ ACRESCENTADO EM 1.</p>
  <p class="rules" style="text-align:center;">3 - E CASO O TEMPO SE ESGOTE, O CONTADOR SERÁ ACRESCENTADO EM 5!!!</p>
  <button id="startButton" class="startButton" onclick="mostrarTudo()">Iniciar</button>
  <h1 class="equation" id="equation" style="display: none;">undefined.</h1>
  <div id="c1" class="options c1" style="display: none;">undefined</div>
  <div id="c2" class="options c1" style="display: none;">undefined</div>
  <div id="c3" class="options c1" style="display: none;">undefined</div>
  <div id="c4" class="options c1" style="display: none;">undefined</div>
  <p id="temporizador" class="temporizador" style="display: none;">5</p>
  <h2 class="contadorVitorias" id="win" style="display: none;">ACERTOS: 0</h2>
  <h2 class="contadorDerrotas" id="defeat" style="display: none;">ERROS: 0</h2>
  <p id="mensagemTempoEsgotado" class="tempo-esgotado" style="display: none;"></p>
  <p id="controlador" class="off" style="display: none;"></p>

  <script>
  
  const checkbox = document.querySelector('.themeButton');
       checkbox.addEventListener('change', function() {
           if (this.checked) {
               document.body.style.background = '#f8f8f8';
               document.body.style.color = "#000000ff"
           } else {
               document.body.style.background = '#2b2b2b';
               document.body.style.color = "#fff"
           }
       });


  function mostrarTudo() {
    document.getElementById("equation").style.display = "block";
    document.getElementById("c1").style.display = "block";
    document.getElementById("c2").style.display = "block";
    document.getElementById("c3").style.display = "block";
    document.getElementById("c4").style.display = "block";
    document.getElementById("temporizador").style.display = "block";
    document.getElementById("win").style.display = "block";
    document.getElementById("defeat").style.display = "block";
    document.getElementById("controlador").style.display = "block";
    
    var elements = document.getElementsByClassName("rules");
    for (var i = 0; i < elements.length; i++) {
      elements[i].style.display = "none"; // Esconde as regras
    }
    document.getElementById("startButton").style.display = "none"; // Esconde o botão "Iniciar"
    playAgain();
  }

const controlador1 = document.querySelector("#controlador");
let numeroAleatorio1 = 0;
let numeroAleatorio2 = 0;
let result = 0;
let contadorWin = contadorDefeat = 0;
let clickHabilitado = true;

function playAgain() {
  let operators = ["+", "-"];
  let elementP = document.querySelector("#equation");
  numeroAleatorio1 = Math.floor(Math.random() * 100) + 1;
  numeroAleatorio2 = Math.floor(Math.random() * 100) + 1;
  let numeroAleatorio03 = Math.floor(Math.random() * 2);
  let numeroAleatorio4 = Math.floor(Math.random() * 4) + 1;

  elementP.innerHTML = numeroAleatorio1 + operators[numeroAleatorio03] + numeroAleatorio2;
  if (numeroAleatorio03 == 0) {
    result = numeroAleatorio1 + numeroAleatorio2;
  } else if (numeroAleatorio03 == 1) {
    result = numeroAleatorio1 - numeroAleatorio2;
  }
  let verdadeiro = document.querySelector("#c" + numeroAleatorio4);
  verdadeiro.innerHTML = result;
  verdadeiro.classList = "verdadeiro";
  let allElements = [...document.querySelectorAll("div")];
  allElements.map((e) => {
    if (e.innerHTML == result) {
      e.classList = "verdadeiro";
    } else {
      let numeroAleatorio200 = Math.floor(Math.random() * 200) + 1;
      e.innerHTML = numeroAleatorio200;
    }
    e.addEventListener("click", () => verificarResposta(e))
    e.classList = "options c1";
  });

  startTimer(); // Inicia o temporizador após gerar uma nova equação
}

let interval
function startTimer() {
  var count = 5;
  clearInterval(interval);
  interval = setInterval(function() {
    if (count >= 0) {
      document.getElementById("temporizador").innerHTML = count;
      count--;
    } else {
      clearInterval(interval);
      let derrotas = document.querySelector("#defeat");
      contadorDefeat += 5;
      derrotas.innerHTML = "DERROTAS: " + contadorDefeat;
      document.getElementById("mensagemTempoEsgotado").innerHTML = "TEMPO ESGOTADO, +5 DERROTAS.";
      document.getElementById("mensagemTempoEsgotado").style.display = "block";
      setTimeout(function() {
        document.getElementById("mensagemTempoEsgotado").style.display = "none";
        playAgain();
      }, 2000);
    }
  }, 1000);
}

function verificarResposta(e) {
  if (clickHabilitado) {
    clickHabilitado = false;
    setTimeout(() => {
      clickHabilitado = true;
    }, 1000);
    
    if (e.innerHTML == result) {
      e.classList = "options green";
      e.innerHTML = "CORRETO!";
      let acertos=document.querySelector("#win")
      contadorWin+=1
      acertos.innerHTML="ACERTOS: "+ contadorWin
      setTimeout(playAgain, 500);
    } else {
      let erros=document.querySelector("#defeat")
      contadorDefeat+=1
      e.classList = "options red";
      erros.innerHTML="ERROS: " + contadorDefeat
    }
  }
}
  </script>
</body>
</html>
